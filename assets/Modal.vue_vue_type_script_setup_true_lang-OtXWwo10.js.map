{"version":3,"file":"Modal.vue_vue_type_script_setup_true_lang-OtXWwo10.js","sources":["../../src/composables/useLockedBody.ts","../../src/components/common/ExpandButton.vue","../../src/components/common/NavigationButtons.vue","../../src/components/common/ScrollIndicator.vue","../../src/components/common/Modal.vue","../../src/composables/useResizeObserver.ts"],"sourcesContent":["import { onUnmounted, watch, type Ref } from 'vue';\n\nexport default function useLockedBody(locked: Ref<boolean> | boolean = true): void {\n  const getScrollbarWidth = (): number => {\n    const scrollDiv = document.createElement('div');\n    scrollDiv.style.cssText = `\n      width: 99px;\n      height: 99px;\n      overflow: scroll;\n      position: absolute;\n      top: -9999px;\n    `;\n    document.body.appendChild(scrollDiv);\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n    document.body.removeChild(scrollDiv);\n    return scrollbarWidth;\n  };\n\n  watch(\n    () => (typeof locked === 'boolean' ? locked : locked.value),\n    (isLocked) => {\n      const bodyStyle = document.body.style;\n\n      if (isLocked) {\n        const scrollbarWidth = getScrollbarWidth();\n        const hasVerticalScroll = window.innerWidth > document.documentElement.clientWidth;\n        const scrollY = window.scrollY;\n\n        Object.assign(bodyStyle, {\n          overflow: 'hidden',\n          position: 'fixed',\n          top: `-${scrollY}px`,\n          left: '0',\n          right: '0',\n          bottom: '0',\n          paddingRight: hasVerticalScroll ? `${scrollbarWidth}px` : '0',\n        });\n      } else {\n        const scrollY = bodyStyle.top ? parseInt(bodyStyle.top) * -1 : 0;\n        bodyStyle.overflow = '';\n        bodyStyle.position = '';\n        bodyStyle.top = '';\n        bodyStyle.left = '';\n        bodyStyle.right = '';\n        bodyStyle.bottom = '';\n        bodyStyle.paddingRight = '';\n        window.scrollTo(0, scrollY);\n      }\n    },\n    { immediate: true }\n  );\n\n  onUnmounted(() => {\n    const bodyStyle = document.body.style;\n    bodyStyle.overflow = '';\n    bodyStyle.position = '';\n    bodyStyle.top = '';\n    bodyStyle.left = '';\n    bodyStyle.right = '';\n    bodyStyle.bottom = '';\n    bodyStyle.paddingRight = '';\n  });\n}\n","<template>\n  <button ref=\"buttonRef\" @click=\"onClick\" class=\"text-xl p-2 hover:text-info focus:text-info focus:outline-none \n      focus:ring-2 focus:ring-info rounded-lg transition-colors duration-200\"\n    :aria-label=\"isExpanded ? 'Compress modal' : 'Expand modal'\"\n    :title=\"isExpanded ? 'Compress modal' : 'Expand modal'\">\n    <Icon :icon=\"isExpanded ? 'fa6-solid:compress' : 'fa6-solid:expand'\" class=\"transition-all duration-200\"\n      aria-hidden=\"true\" />\n  </button>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue';\nimport { Icon } from '@iconify/vue';\n\ninterface Props {\n  isExpanded: boolean;\n  onClick: () => void;\n}\n\ndefineProps<Props>();\n\nconst buttonRef = ref<HTMLButtonElement | null>(null);\n\ndefineExpose({\n  buttonRef,\n});\n</script>\n","<template>\n  <button v-if=\"showPrevious\" class=\"absolute top-1/2 transform -translate-y-1/2 -translate-x-16 left-0 p-2 \n      text-neutral-content hover:text-info focus:text-info focus:outline-none \n      focus:ring-2 focus:ring-info rounded-lg hidden md:block\n      transition-colors duration-200\" @click=\"onPrevious\" aria-label=\"Previous page\" title=\"Previous page\">\n    <Icon icon=\"fa6-solid:chevron-left\" :class=\"`text-5xl ${animationClass}`\" aria-hidden=\"true\" />\n  </button>\n  <button v-if=\"showNext\" class=\"absolute top-1/2 transform -translate-y-1/2 translate-x-16 right-0 p-2 \n      text-neutral-content hover:text-info focus:text-info focus:outline-none \n      focus:ring-2 focus:ring-info rounded-lg hidden md:block\n      transition-colors duration-200\" @click=\"onNext\" aria-label=\"Next page\" title=\"Next page\">\n    <Icon icon=\"fa6-solid:chevron-right\" :class=\"`text-5xl ${animationClass}`\" aria-hidden=\"true\" />\n  </button>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport { Icon } from '@iconify/vue';\n\ninterface Props {\n  onPrevious: () => void;\n  onNext: () => void;\n  showPrevious?: boolean;\n  showNext?: boolean;\n  prefersReducedMotion?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  showPrevious: true,\n  showNext: true,\n  prefersReducedMotion: false,\n});\n\nconst animationClass = computed(() =>\n  props.prefersReducedMotion ? '' : 'hover:scale-110 transition-transform'\n);\n</script>\n","<template>\n  <div class=\"absolute bottom-2 right-2 bg-base-200/90 p-2 rounded-lg \n      flex items-center space-x-2 shadow-lg backdrop-blur-sm\n      transition-opacity duration-200 hover:opacity-100\" role=\"status\" aria-live=\"polite\">\n    <Icon icon=\"fa6-solid:chevron-down\" :class=\"`text-xl text-info ${prefersReducedMotion ? '' : 'animate-bounce'\n      }`\" aria-hidden=\"true\" />\n    <span class=\"text-sm font-medium text-info\">\n      {{ message }}\n    </span>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Icon } from '@iconify/vue';\n\ninterface Props {\n  prefersReducedMotion: boolean;\n  message: string;\n}\n\ndefineProps<Props>();\n</script>\n","<template>\n  <Teleport to=\"body\">\n    <div v-if=\"isOpen\" data-testid=\"modal-overlay\"\n      class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 pointer-events-auto overflow-hidden\"\n      @click=\"handleOutsideClick\" role=\"dialog\" aria-modal=\"true\" :aria-labelledby=\"`modal-title-${modalId}`\"\n      tabindex=\"-1\">\n      <div ref=\"modalRef\" data-testid=\"modal-content\" :class=\"`relative w-full ${modalSize.width} ${modalSize.height} \n          flex flex-col bg-base-100 rounded-lg shadow-xl \n          ${prefersReducedMotion ? '' : 'transition-all duration-300'} \n          p-4 sm:p-6 lg:p-8 ${className}`\" tabindex=\"-1\">\n        <div class=\"p-4 border-b border-base-300 flex justify-between items-center\">\n          <h2 :id=\"`modal-title-${modalId}`\" class=\"text-xl sm:text-2xl font-semibold text-center flex-grow\">\n            {{ title }}\n          </h2>\n\n          <ExpandButton ref=\"expandButtonRef\" :is-expanded=\"isExpanded\" @click=\"onToggleExpand\" />\n        </div>\n\n        <NavigationButtons v-if=\"isNavigationEnabled\" :on-previous=\"handlePrevious\" :on-next=\"handleNext\"\n          :prefers-reduced-motion=\"prefersReducedMotion\" />\n\n        <div ref=\"contentRef\" :class=\"`p-6 pb-10 flex-grow overflow-y-auto relative scroll-smooth\n            ${contentClassName}`\" @scroll=\"handleScroll\" role=\"region\" aria-label=\"Modal content\" tabindex=\"0\">\n          <slot />\n\n          <ScrollIndicator v-if=\"state.isContentOverflowing && state.scrollIndicatorVisible\"\n            :prefers-reduced-motion=\"prefersReducedMotion\" message=\"Scroll down to see more\" />\n        </div>\n\n        <div class=\"p-4 border-t border-base-300 flex justify-end space-x-2\">\n          <button ref=\"closeButtonRef\" class=\"btn btn-sm btn-neutral\" @click=\"onClose\" aria-label=\"Close modal\">\n            Close\n          </button>\n        </div>\n\n        <div v-if=\"showNavigation && state.showNavigationHint && totalPages > 1\"\n          class=\"absolute bottom-2 left-2 bg-base-200 p-2 rounded-lg flex items-center space-x-2\" role=\"status\"\n          aria-live=\"polite\">\n          <span class=\"text-sm text-info\">\n            {{ isTouchDevice\n              ? 'Swipe left or right to navigate'\n              : 'Use ← → arrow keys to navigate' }}\n          </span>\n        </div>\n\n        <div v-if=\"totalPages > 1\"\n          class=\"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-6 flex space-x-2\" role=\"navigation\"\n          :aria-label=\"`Page ${currentPage + 1} of ${totalPages}`\">\n          <div v-for=\"(_, index) in totalPages\" :key=\"index\" :class=\"`w-3 h-3 rounded-full transition-colors duration-200\n              ${currentPage === index ? 'bg-info' : 'bg-neutral-content'}`\" role=\"tab\"\n            :aria-selected=\"currentPage === index\" :aria-label=\"`Page ${index + 1}`\" tabindex=\"-1\" />\n        </div>\n      </div>\n    </div>\n  </Teleport>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted, onUnmounted, nextTick } from 'vue';\nimport { useMediaQuery } from '@/composables/useMediaQuery';\nimport useLockedBody from '@/composables/useLockedBody';\nimport useResizeObserver from '@/composables/useResizeObserver';\nimport ExpandButton from './ExpandButton.vue';\nimport NavigationButtons from './NavigationButtons.vue';\nimport ScrollIndicator from './ScrollIndicator.vue';\n\nexport interface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  onNext?: () => void;\n  onPrevious?: () => void;\n  totalPages?: number;\n  currentPage?: number;\n  showNavigation?: boolean;\n  isExpanded: boolean;\n  onToggleExpand: () => void;\n  triggerOverflowCheck: number;\n  className?: string;\n  contentClassName?: string;\n  closeOnEscape?: boolean;\n  closeOnOutsideClick?: boolean;\n  initialFocus?: 'close' | 'expand' | 'content';\n}\n\nconst props = withDefaults(defineProps<ModalProps>(), {\n  totalPages: 1,\n  currentPage: 0,\n  showNavigation: true,\n  className: '',\n  contentClassName: '',\n  closeOnEscape: true,\n  closeOnOutsideClick: true,\n  initialFocus: 'close',\n});\n\nconst SWIPE_CONFIG = {\n  minDistance: 50,\n  maxTime: 300,\n  minVelocity: 0.3,\n} as const;\n\nconst MODAL_SIZES = {\n  expanded: {\n    width: 'max-w-[95vw] md:max-w-4xl lg:max-w-5xl',\n    height: 'h-[85vh]',\n  },\n  normal: {\n    width: 'max-w-[90vw] md:max-w-2xl lg:max-w-3xl',\n    height: 'h-[70vh] md:h-[60vh] lg:h-[50vh]',\n  },\n} as const;\n\nconst TRANSITION_DURATION = 300;\nconst SCROLL_THROTTLE = 100;\nconst RESIZE_DEBOUNCE = 100;\n\nconst modalId = `modal-${Math.random().toString(36).substr(2, 9)}`;\nconst modalRef = ref<HTMLDivElement | null>(null);\nconst contentRef = ref<HTMLDivElement | null>(null);\nconst closeButtonRef = ref<HTMLButtonElement | null>(null);\nconst expandButtonRef = ref<InstanceType<typeof ExpandButton> | null>(null);\n\nconst state = ref({\n  isContentOverflowing: false,\n  scrollIndicatorVisible: true,\n  showNavigationHint: true,\n  touchStart: { x: 0, y: 0, time: 0 },\n  hasInteracted: false,\n});\n\nconst prefersReducedMotion = useMediaQuery('(prefers-reduced-motion: reduce)');\nconst isTouchDevice = useMediaQuery('(pointer: coarse)');\n\nuseLockedBody(computed(() => props.isOpen));\n\nconst modalSize = computed(() =>\n  props.isExpanded ? MODAL_SIZES.expanded : MODAL_SIZES.normal\n);\n\nconst isNavigationEnabled = computed(\n  () => props.showNavigation && props.totalPages > 1 && !isTouchDevice.value\n);\n\nconst debounce = <T extends (...args: unknown[]) => void>(\n  fn: T,\n  ms: number\n): ((...args: Parameters<T>) => void) & { cancel: () => void } => {\n  let timeoutId: ReturnType<typeof setTimeout>;\n\n  const debouncedFn = (...args: Parameters<T>) => {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => fn(...args), ms);\n  };\n\n  debouncedFn.cancel = () => clearTimeout(timeoutId);\n\n  return debouncedFn;\n};\n\nconst throttle = <T extends (...args: unknown[]) => void>(\n  fn: T,\n  ms: number\n): ((...args: Parameters<T>) => void) => {\n  let lastCall = 0;\n\n  return (...args: Parameters<T>) => {\n    const now = Date.now();\n    if (now - lastCall >= ms) {\n      fn(...args);\n      lastCall = now;\n    }\n  };\n};\n\nconst handleOutsideClick = (e: MouseEvent) => {\n  if (!props.closeOnOutsideClick) return;\n\n  const target = e.target as HTMLElement;\n  if (target.dataset.testid === 'modal-overlay') {\n    props.onClose();\n  }\n};\n\nconst checkContentOverflow = () => {\n  if (contentRef.value) {\n    const isOverflowing =\n      contentRef.value.scrollHeight > contentRef.value.clientHeight;\n    state.value.isContentOverflowing = isOverflowing;\n    if (!state.value.hasInteracted) {\n      state.value.scrollIndicatorVisible = isOverflowing;\n    }\n  }\n};\n\nconst handleScroll = throttle(() => {\n  if (contentRef.value?.scrollTop && contentRef.value.scrollTop > 0) {\n    state.value.scrollIndicatorVisible = false;\n    state.value.hasInteracted = true;\n  }\n}, SCROLL_THROTTLE);\n\nconst preventScrollPropagation = (e: WheelEvent) => {\n  if (!contentRef.value) return;\n\n  const { deltaY } = e;\n  const { scrollTop, scrollHeight, clientHeight } = contentRef.value;\n  const isScrollingUp = deltaY < 0;\n  const isScrollingDown = deltaY > 0;\n  const isAtTop = scrollTop <= 0;\n  const isAtBottom = Math.abs(scrollTop + clientHeight - scrollHeight) <= 1;\n\n  if ((isScrollingUp && isAtTop) || (isScrollingDown && isAtBottom)) {\n    e.preventDefault();\n  }\n};\n\nconst handleTouchStart = (e: TouchEvent) => {\n  state.value.touchStart = {\n    x: e.touches[0].clientX,\n    y: e.touches[0].clientY,\n    time: Date.now(),\n  };\n};\n\nconst handleTouchEnd = (e: TouchEvent) => {\n  const { x: startX, y: startY, time: startTime } = state.value.touchStart;\n  const touchEndX = e.changedTouches[0].clientX;\n  const touchEndY = e.changedTouches[0].clientY;\n  const touchEndTime = Date.now();\n\n  const deltaX = touchEndX - startX;\n  const deltaY = touchEndY - startY;\n  const deltaTime = touchEndTime - startTime;\n  const velocity = Math.abs(deltaX) / deltaTime;\n\n  if (\n    Math.abs(deltaX) > Math.abs(deltaY) &&\n    Math.abs(deltaX) > SWIPE_CONFIG.minDistance &&\n    deltaTime < SWIPE_CONFIG.maxTime &&\n    velocity > SWIPE_CONFIG.minVelocity\n  ) {\n    if (deltaX > 0 && props.onPrevious) {\n      props.onPrevious();\n      state.value.showNavigationHint = false;\n      state.value.hasInteracted = true;\n    } else if (deltaX < 0 && props.onNext) {\n      props.onNext();\n      state.value.showNavigationHint = false;\n      state.value.hasInteracted = true;\n    }\n  }\n};\n\nconst handlePrevious = () => {\n  props.onPrevious?.();\n  state.value.showNavigationHint = false;\n  state.value.hasInteracted = true;\n};\n\nconst handleNext = () => {\n  props.onNext?.();\n  state.value.showNavigationHint = false;\n  state.value.hasInteracted = true;\n};\n\nconst handleKeyDown = (e: KeyboardEvent) => {\n  switch (e.key) {\n    case 'ArrowRight':\n      if (props.onNext) {\n        props.onNext();\n        state.value.showNavigationHint = false;\n        state.value.hasInteracted = true;\n      }\n      break;\n    case 'ArrowLeft':\n      if (props.onPrevious) {\n        props.onPrevious();\n        state.value.showNavigationHint = false;\n        state.value.hasInteracted = true;\n      }\n      break;\n    case 'Escape':\n      if (props.closeOnEscape) {\n        props.onClose();\n      }\n      break;\n    default:\n      break;\n  }\n};\n\nconst focusTrap = (e: KeyboardEvent) => {\n  const focusableElements = modalRef.value?.querySelectorAll<HTMLElement>(\n    'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n  );\n\n  if (!focusableElements?.length) return;\n\n  const firstElement = focusableElements[0];\n  const lastElement = focusableElements[focusableElements.length - 1];\n\n  if (e.key === 'Tab') {\n    if (e.shiftKey && document.activeElement === firstElement) {\n      e.preventDefault();\n      lastElement.focus();\n    } else if (!e.shiftKey && document.activeElement === lastElement) {\n      e.preventDefault();\n      firstElement.focus();\n    }\n  }\n};\n\nconst debouncedCheckContentOverflow = debounce(checkContentOverflow, RESIZE_DEBOUNCE);\n\nuseResizeObserver(contentRef, checkContentOverflow);\n\nwatch(() => props.isOpen, (open) => {\n  if (!open) return;\n\n  document.addEventListener('keydown', handleKeyDown);\n  document.addEventListener('keydown', focusTrap);\n\n  nextTick(() => {\n    setTimeout(() => {\n      switch (props.initialFocus) {\n        case 'content': {\n          contentRef.value?.focus();\n          break;\n        }\n        case 'expand': {\n          expandButtonRef.value?.$el?.focus();\n          break;\n        }\n        case 'close':\n        default: {\n          const closeBtn = closeButtonRef.value;\n          if (closeBtn && !closeBtn.hasAttribute('disabled')) {\n            closeBtn.focus();\n          } else {\n            modalRef.value?.focus();\n          }\n          break;\n        }\n      }\n    }, TRANSITION_DURATION);\n  });\n});\n\nwatch(() => props.isOpen, (open) => {\n  if (!open) {\n    document.removeEventListener('keydown', handleKeyDown);\n    document.removeEventListener('keydown', focusTrap);\n  }\n});\n\nwatch(\n  () => [props.isOpen, props.currentPage, props.isExpanded, props.triggerOverflowCheck],\n  () => {\n    if (props.isOpen) {\n      debouncedCheckContentOverflow();\n    }\n  }\n);\n\nonMounted(() => {\n  if (contentRef.value) {\n    contentRef.value.addEventListener('wheel', preventScrollPropagation, { passive: false });\n  }\n\n  watch(() => props.isOpen, (open) => {\n    const modalElement = modalRef.value;\n    if (!open || !modalElement || !isTouchDevice.value) return;\n\n    modalElement.addEventListener('touchstart', handleTouchStart, { passive: true });\n    modalElement.addEventListener('touchend', handleTouchEnd, { passive: true });\n\n    return () => {\n      modalElement.removeEventListener('touchstart', handleTouchStart);\n      modalElement.removeEventListener('touchend', handleTouchEnd);\n    };\n  });\n});\n\nonUnmounted(() => {\n  if (contentRef.value) {\n    contentRef.value.removeEventListener('wheel', preventScrollPropagation);\n  }\n  debouncedCheckContentOverflow.cancel();\n  document.removeEventListener('keydown', handleKeyDown);\n  document.removeEventListener('keydown', focusTrap);\n});\n</script>\n","import { watch, onUnmounted, type Ref } from 'vue';\n\ntype ObserverCallback = () => void;\n\nexport default function useResizeObserver(\n  ref: Ref<Element | HTMLElement | null>,\n  callback: ObserverCallback,\n  options: ResizeObserverOptions = {}\n) {\n  let observer: ResizeObserver | null = null;\n\n  watch(\n    () => ref.value,\n    (element) => {\n      if (observer) {\n        observer.disconnect();\n        observer = null;\n      }\n\n      if (element) {\n        observer = new ResizeObserver(() => {\n          callback();\n        });\n        observer.observe(element, options);\n      }\n    },\n    { immediate: true }\n  );\n\n  onUnmounted(() => {\n    if (observer) {\n      observer.disconnect();\n    }\n  });\n}\n"],"names":["useLockedBody","locked","watch","value","isLocked","bodyStyle","document","body","style","scrollbarWidth","scrollDiv","createElement","cssText","appendChild","offsetWidth","clientWidth","removeChild","getScrollbarWidth","hasVerticalScroll","window","innerWidth","documentElement","scrollY","Object","assign","overflow","position","top","left","right","bottom","paddingRight","parseInt","scrollTo","immediate","onUnmounted","buttonRef","ref","__expose","_createElementBlock","onClick","_cache","__props","args","class","isExpanded","title","_createVNode","_unref","Icon","icon","props","animationClass","computed","prefersReducedMotion","showPrevious","onPrevious","showNext","onNext","_openBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","message","SWIPE_CONFIG","MODAL_SIZES","expanded","width","height","normal","modalId","Math","random","toString","substr","modalRef","contentRef","closeButtonRef","expandButtonRef","state","isContentOverflowing","scrollIndicatorVisible","showNavigationHint","touchStart","x","y","time","hasInteracted","useMediaQuery","isTouchDevice","isOpen","modalSize","isNavigationEnabled","showNavigation","totalPages","handleOutsideClick","e","closeOnOutsideClick","target","dataset","testid","onClose","checkContentOverflow","isOverflowing","scrollHeight","clientHeight","handleScroll","fn","ms","lastCall","now","Date","throttle","_a","scrollTop","preventScrollPropagation","deltaY","isScrollingUp","isScrollingDown","isAtTop","isAtBottom","abs","preventDefault","handleTouchStart","touches","clientX","clientY","handleTouchEnd","startX","startY","startTime","deltaX","changedTouches","deltaTime","velocity","handlePrevious","call","handleNext","handleKeyDown","key","closeOnEscape","focusTrap","focusableElements","querySelectorAll","length","firstElement","lastElement","shiftKey","activeElement","focus","debouncedCheckContentOverflow","timeoutId","debouncedFn","clearTimeout","setTimeout","cancel","debounce","callback","options","observer","element","disconnect","ResizeObserver","observe","useResizeObserver","open","addEventListener","nextTick","initialFocus","_c","_b","$el","closeBtn","hasAttribute","_d","removeEventListener","currentPage","triggerOverflowCheck","onMounted","passive","modalElement","_createBlock","_Teleport","to","role","tabindex","className","id","_hoisted_3","ExpandButton","onToggleExpand","NavigationButtons","_normalizeClass","contentClassName","onScroll","_renderSlot","_ctx","$slots","ScrollIndicator","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","_renderList","_","index"],"mappings":"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"}